var app=app||{};app.TrackerView=Backbone.View.extend({el:"#trackerdiv",trackerTemplate:_.template($("#tracker-template").html()),initialize:function(){this.listenTo(app.foodList,"update",this.render)},render:function(){var t=this,r=this.calcTotals(app.foodList);this.$el.html(this.trackerTemplate({totalcals:r.totalCals,totalfiber:r.totalFiber,totalprotein:r.totalProtein,totalsodium:r.totalSodium,totalsugar:r.totalSugar,totalfat:r.totalFat,totalcarbs:r.totalCarbs,totalvita:r.totalVitA+"%",totalvitc:r.totalVitC+"%",totalcalcium:r.totalCalcium+"%"})),t.renderProgressBar(r.totalVitA,"vit-a"),t.renderProgressBar(r.totalVitC,"vit-c"),t.renderProgressBar(r.totalCalcium,"calcium")},renderProgressBar:function(t,r){t>=100?$(".progress-bar."+r).css("width","100%"):$(".progress-bar."+r).css("width",t+"%")},calcTotals:function(t){var r={};return r.totalCals=t.reduce(function(t,r){return t+r.get("totalCals")},0),r.totalFiber=t.reduce(function(t,r){return t+r.get("fiber")},0),r.totalProtein=t.reduce(function(t,r){return t+r.get("protein")},0),r.totalSodium=t.reduce(function(t,r){return t+r.get("sodium")},0),r.totalSugar=t.reduce(function(t,r){return t+r.get("sugar")},0),r.totalFat=t.reduce(function(t,r){return t+r.get("fat")},0),r.totalCarbs=t.reduce(function(t,r){return t+r.get("carbs")},0),r.totalVitA=t.reduce(function(t,r){return t+r.get("vitA")},0),r.totalVitC=t.reduce(function(t,r){return t+r.get("vitC")},0),r.totalCalcium=t.reduce(function(t,r){return t+r.get("calcium")},0),r}});