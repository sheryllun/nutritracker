var app=app||{};app.SingleFoodDescriptionView=Backbone.View.extend({el:"#singlefooddiv",foodDescriptionTemplate:_.template($("#food-detail-template").html()),events:{"click #addfood":"addFood"},initialize:function(t){this.$input=this.$("#servings"),this.getFoodDetails(t)},getFoodDetails:function(t){var i=this,a={appKey:"ba5c22dd374e75a04c9bbd9d5e89c273",appId:"b898ecf9"};$.ajax({url:"https://api.nutritionix.com/v1_1/item?id="+t,data:a,success:function(t){i.render(t)},error:function(){}})},render:function(t){var i=t,a={name:i.item_name,brand:i.brand_name,serveQty:i.nf_serving_size_qty,serveUnit:i.nf_serving_size_unit,calories:i.nf_calories,calcium:i.nf_calcium_dv=null===i.nf_calcium_dv?0:i.nf_calcium_dv,fiber:i.nf_dietary_fiber=null===i.nf_dietary_fiber?0:i.nf_dietary_fiber,protein:i.nf_protein,sodium:i.nf_sodium,sugar:i.nf_sugars=null===i.nf_sugars?0:i.nf_sugars,fat:i.nf_total_fat,carbs:i.nf_total_carbohydrate,vitA:i.nf_vitamin_a_dv=null===i.nf_vitamin_a_dv?0:i.nf_vitamin_a_dv,vitC:i.nf_vitamin_c_dv=null===i.nf_vitamin_c_dv?0:i.nf_vitamin_c_dv};this.$el.html(this.foodDescriptionTemplate({name:a.name,brand:a.brand,servingSize:a.serveQty,servingUnit:a.serveUnit,calories:a.calories,calcium:a.calcium,fiber:a.fiber,protein:a.protein,sodium:a.sodium,sugar:a.sugar,fat:a.fat,carbs:a.carbs,vitA:a.vitA,vitC:a.vitC}))},addFood:function(t){var i=parseInt($("#servings").val());if(i){var a=$(".item-name").text(),e=parseInt($(".calories").text()),n=parseFloat($(".fiber").text()),r=parseFloat($(".protein").text()),s=parseFloat($(".sodium").text()),o=parseFloat($(".sugar").text()),l=parseFloat($(".carbs").text()),c=parseFloat($(".fat").text()),d=parseFloat($(".calcium").text()),f=parseFloat($(".vita").text()),_=parseFloat($(".vitc").text());app.foodList.create({name:a,servings:i,calories:e,fiber:n,protein:r,sodium:s,sugar:o,carbs:l,fat:c,calcium:d,vitA:f,vitC:_,totalCals:e*i}),$("#servings").val(""),location.href="#mylist"}}});