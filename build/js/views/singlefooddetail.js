var app=app||{};app.SingleFoodDescriptionView=Backbone.View.extend({el:"#singlefooddiv",foodDescriptionTemplate:_.template($("#food-detail-template").html()),events:{"click #addfood":"addFood"},initialize:function(i){this.$input=this.$("#servings"),this.getFoodDetails(i)},getFoodDetails:function(i){var e=this,t={appKey:"ba5c22dd374e75a04c9bbd9d5e89c273",appId:"b898ecf9"};$.ajax({url:"https://api.nutritionix.com/v1_1/item?id="+i,data:t,success:function(i){e.render(i)},error:function(){}})},render:function(i){var e=i,t={name:e.item_name,brand:e.brand_name,serveQty:e.nf_serving_size_qty,serveUnit:e.nf_serving_size_unit,calories:e.nf_calories,calcium:e.nf_calcium_dv=0,fiber:e.nf_dietary_fiber=0,protein:e.nf_protein,sodium:e.nf_sodium,sugar:e.nf_sugars=0,fat:e.nf_total_fat,carbs:e.nf_total_carbohydrate,vitA:e.nf_vitamin_a_dv=0,vitC:e.nf_vitamin_c_dv=0};this.$el.html(this.foodDescriptionTemplate({name:t.name,brand:t.brand,servingSize:t.serveQty,servingUnit:t.serveUnit,calories:t.calories,calcium:t.calcium,fiber:t.fiber,protein:t.protein,sodium:t.sodium,sugar:t.sugar,fat:t.fat,carbs:t.carbs,vitA:t.vitA,vitC:t.vitC}))},addFood:function(i){var e=parseInt($("#servings").val());if(e){var t=$(".item-name").text(),a=parseInt($(".calories").text());app.foodList.create({name:t,servings:e,calories:a}),location.href="#mylist"}}});